<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="减重设计心得, RickyLove">
    <meta name="description" content="概述​        竞技机器人的重量对于机器人性能有至关重要的影响，在大多数情况下更轻的重量意味着更大的极限速度、更高的加速性能、更快的动态响应与更高的效率，尤其是在 RoboMaster 这种存在功率限制的竞赛中，优秀的轻量化设计更是不">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>减重设计心得 | RickyLove</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="/css/matery.css">
<link rel="stylesheet" type="text/css" href="/css/my.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="/css/post.css">




    



    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/favicon.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">RickyLove</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/favicon.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">RickyLove</div>
        <div class="logo-desc">
            
            stay hungry , stay foolish
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/19.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">减重设计心得</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-01-04
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>​        竞技机器人的重量对于机器人性能有至关重要的影响，在大多数情况下更轻的重量意味着更大的极限速度、更高的加速性能、更快的动态响应与更高的效率，尤其是在 RoboMaster 这种存在功率限制的竞赛中，优秀的轻量化设计更是不可忽略的要点。竞技机器人，突出的就是一个“竞技”，想要从中脱颖而出，要的就是“极限”。更极限的方案、更极限的性能、更极限的操作、更极限的稳定，这些共同作用才能有 一个更接近极限的结果。 </p>
<p>​        本篇主要是讨论如何进行轻量化设计与减重，即“减重设计”和“零件减重”这两方面， 其中减重设计主要是设计思维层面的内容，本篇受篇幅所限不会过度展开，如果各位感兴趣以后可以再出专门的篇章进行讨论。对于竞技机器人而言，各类型板材是占比最高的一类材料，故本篇将着重讨论如何对板材进行减重。</p>
<p>​        零件减重，尤其是板材减重，很重要的一个学习方式就是“多看”，通过对他人合理的减重设计多分析、多思考能有效的快速提升自身的设计能力。本文档主要基于 RoboMaster 等竞技机器人比赛，与真实的非标产品设计有所区别，请读者不要混淆。</p>
<h2 id="一-减重，减哪里？"><a href="#一-减重，减哪里？" class="headerlink" title="一.减重，减哪里？"></a>一.减重，减哪里？</h2><p>​        对于一台竞技机器人来说，减重的地方可以很多，例如最常见的板材掏减重孔、方管打减重孔、打印件镂空等等，但在减重效果最好的无疑是在结构设计上的减重，换句话说，就是“砍结构”，我们可以叫它“结构减重”。 举个例子，一台家用通勤摩托车需要减重，它的主要动力部分有发动机、油箱、传动系 统、轮系及轮胎，如果保持大体结构不变，只从动力部分做减重的话，那所能做的非常有限。 但如果换个思维，如果只是通勤用，那换成电动摩托车行不行，这直接砍去了近乎整个传动系统，甚至可以直接使用轮毂电机，这样就可以直接省去大量的结构重量。这就是通过思维的转换，尝试在大体实现目标需求的情况下通过实现方式的调整实现的减重。 当然，对于具体结构件上的减重设计还是有必要的可以管他叫“零件减重”，例如开减重孔、减重槽、镂空等方式都可以实现一定程度的轻量化，但必须认识到的是，在大多数情况下通过对零件进行减重设计所能带来的重量减少都是比较有限的，其是远不如直接“砍结构”所带来的效果的。 </p>
<p>​        综上所述，轻量化设计的思路应该是“砍结构为主，减材料为辅”的方式，即通过改变实现方式省去冗余结构的方式进行主要的减重，并以对个体零件的镂空、更换低密度材料等方式进行辅助，总体上实现竞技机器人的轻量化设计。</p>
<h2 id="二-对于结构的减重"><a href="#二-对于结构的减重" class="headerlink" title="二.对于结构的减重"></a>二.对于结构的减重</h2><p>​        正如上面的例子所表现的，结构减重的根本是“对需求的分析”与“思维的转换”。宁简勿繁，能实现功能就是好设计，在能实现功能的基础上，越简单越好，多余的机构统统砍掉，也就是“砍结构”，这是实现整体轻量化最直接，也是最快速的方式。 砍结构的前提是对于需求有着清晰的理解，很多设计者在设计机器的过程中都不知道自己到底想要什么，这种“船到桥头自然直”的状态也就自然不可能对需求有清晰的认证，在设计过程中产生些冗余也就十分正常了。要想避免这种糊里糊涂的设计，最简单的办法就是找张纸，列一下几个优先级的需求，捋清楚自己的需求。明确需求再设计，这是一个好设计的基础，也是简洁设计的基础。  </p>
<h2 id="三-对于板材的减重"><a href="#三-对于板材的减重" class="headerlink" title="三.对于板材的减重"></a>三.对于板材的减重</h2><p>​        板材的减重是竞技类机器人中最常见的减重类型，也是本篇的重点。对板材减重的根本是“适可而止，够用就行”，换句话说就是在满足使用要求和合理的冗余的前提下，能薄就薄，能抠就抠，尽量将材料性能发挥到极限。 我们不妨定义一个“减重比”，即减去的重量与损失的刚度的百分比的比值，用以大概衡量减重设计的“性能”，减重比越大，说明减重设计越好，反之亦然。 </p>
<h3 id="3-1-减重孔种类"><a href="#3-1-减重孔种类" class="headerlink" title="3.1.减重孔种类"></a>3.1.减重孔种类</h3><p>​        如果进行到抠减重的环节，那说明该板材零件的形态及孔位已经确定，接下来就要根据受力形式及工况综合确定减重孔的形式。减重孔并只是“孔”，它有形态各异的样式与类型， 大体上，常见减重孔的形式及特点如下： </p>
<p>​        类三角形减重孔：  类三角形减重孔指的是形态类似于三角形的减重孔，换句话说它的边不一定是直的，可能有一定的弧度或其他形态，但仍可保持大致的三角形轮廓。如下图左侧红框部分 </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E7%B1%BB%E4%B8%89%E8%A7%92%E5%BD%A2%E5%87%8F%E9%87%8D%E5%AD%94.png" alt="QQ图片20230104192738"></p>
<p>​        这种减重孔比较适合梁状零件、多边形零件、环状零件、零件突出部的减重，例如用来抗弯的悬臂梁等（上图右侧）。绘制此种减重孔的根本目标是尽量让载荷分布到零件内部的力线尽量与内部支撑梁重合，也就是尽量让内部支撑梁处于二力杆的受力状态，另外需要根据载荷和工况的不同调整不同支撑梁的粗细长短。 </p>
<p>更多样例： </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A0%B7%E4%BE%8B%E4%B8%80.png" alt="QQ图片20230104192841"></p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A0%B7%E4%BE%8B%E4%BA%8C.png" alt="QQ图片20230104192846"></p>
<p>​        四边形减重孔：  四边形减重孔指的是形态近似于四边形的减重孔，这种减重孔多用于多个规则孔位中部的减重，或是在受力较小的区域尽可能多的去除材料。 例如下图中左侧标蓝的板子的步兵侧面装甲板的安装板，我们简单分析受力可以知道， 由于这个板子与底盘框架固定的安装孔位在与装甲板固定的孔位的外侧，而装甲板与装甲板支架又可以视为一个刚体，故其主要内应力应集中于内、外安装孔之间，即红框的区域，而中部所承受的载荷很小，所以中间的基本所有区域都可以掏空，只留下很少的边条用来维持基本形态以方便装配与布线，在实际测试中装甲板安装刚度也很理想。 </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E5%9B%9B%E8%BE%B9%E5%BD%A2%E5%87%8F%E9%87%8D%E5%AD%94.png" alt="QQ图片20230104193004"></p>
<p>​        需要注意的是，此类减重孔的边角处容易产生应力集中，不要忘记进行倒圆角等操作。 </p>
<p>更多样例：  </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A0%B7%E4%BE%8B%E4%B8%89.png" alt="QQ图片20230104193106"></p>
<p>​        多边形减重孔：  这里的多边形减重孔主要特指五边形减重孔和六边形减重孔的密集阵列，也就是所谓的 “蜂巢”，此类减重孔使用于非承力区域的大范围减重，例如舱盖、底板中部、背板等区域。 此类减重孔的一大特点就是受力均匀，但不善承受冲击，故不太适合用于外表面的防护材料。</p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%87%8F%E9%87%8D%E5%AD%94.png" alt="QQ图片20230104193207"></p>
<p>​        圆形减重孔：  圆形减重孔是最“传统”的减重孔，工艺性也是几种减重孔中最好的，用钻头&#x2F;开孔器 就可以简单实现。这类减重孔常用于方管、非承力板材的减重。 圆形减重孔的一大特点就是受力均匀，且减重的程度幅度相当可观，例如在大口径的铝方管减重案例中，应用合理的圆形减重孔可以使铝方管同时在两个方向有不错的抗弯、抗压 性能，且减重幅度和精心设计过的三角形减重也差不太多，工艺还十分简便，是竞技机器人中铝方管减重的首选。 </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E5%9C%86%E5%BD%A2%E5%87%8F%E9%87%8D%E5%AD%94.png" alt="QQ图片20230104193259"></p>
<p>​        类多边形减重孔：  类多边形减重孔是最“科学”的一类减重孔，它的指的通过对零件的载荷进行分析，融合多种减重孔类型，以最少的材料实现承受载荷的需求。此类减重孔形式多种多样，但核心宗旨是尽量让载荷的力线与内部支撑结构的走向一致，同时满足避开移动部件轨迹、电气走线等需求，比如下图： </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E7%B1%BB%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%87%8F%E9%87%8D%E5%AD%94.png" alt="QQ图片20230104193356"></p>
<p>​        如何绘制此类减重孔会在 3.2 部分中重点讨论，此处不做赘述。虽然此类减重孔性能最好，但相对的绘制比较麻烦，所以在一些规则零件受到简单载荷时更多的还是采用前文所提到的几种规则减重形式进行处理，只有在孔位较多、受力较复杂、或有其他需求（如美学需求）等情况下才会使用此种类多边形减重孔。另外关于有限元分析软件与拓扑分析的部分会 在 3.4 中进行讨论，此处也就不再赘述了。</p>
<p>更多样例如下： </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A0%B7%E4%BE%8B%E5%9B%9B.png" alt="QQ图片20230104193446"></p>
<h3 id="3-2-怎么抠？抠多少？"><a href="#3-2-怎么抠？抠多少？" class="headerlink" title="3.2.怎么抠？抠多少？"></a>3.2.怎么抠？抠多少？</h3><p>​        在完成对板材轮廓和孔位的设计之后，就可以对其进行减重的操作了。具体怎么设计减重孔是个复杂且综合的过程，每个设计者都有不同的理解，但不论是怎样风格的设计者，都免不了对板材受力情况与外部约束条件进行分析，此处的“约束条件”不单纯指力学上的约束，也指使用环境上的，例如是否需要从孔中走线、是否要防止弹丸进入、是否要考虑美学需求等。大体上，设计减重孔可以分为 5 个步骤。 下面我来对这几步逐个说明： </p>
<h4 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h4><p>​        我一向认为，设计最重要的阶段是设计前的思考，对于减重设计而言，即是思考各载荷与力学约束条件之间所产生的力的大小与方向，以及这些力的种类特点。此时对受力的方向、 大小、类型以及特点有清晰的认知可以对后续“分割”阶段具体的减重孔的设计提供重要的帮助，从而明确到底该在那个区域使用哪种减重孔形制。原则上， 尽可能的让分力方向与内部支撑的走向一致。 在受力分析中，可以大致的将零件分为“主承力区”“辅助承力区”“不承力区”，在此阶段的划分可以是模糊的，停留在思维上就好，在后续的“分割”步骤中会详细区分，原则上承力区越重要，其支撑材料越多，越需要加强。</p>
<h4 id="留边："><a href="#留边：" class="headerlink" title="留边："></a>留边：</h4><p>​        各位读者对杠杆原理应该都所有了解，动力臂越长，阻力臂越短，也就越省力，类似的在材料力学中有中性轴的概念，零件的应力分布随与中性轴的距离越远逐渐增大。换句话说， 如果载荷一定，结构越大（即边缘与中性轴距离越远）材料所受的最大应力越小。这一点对应到减重设计上，即是“越靠边缘越重要”，换句话说，边缘的结构所承受的力要比零件中心区域更大，也就需要更多的材料、更强的结构来进行支撑。当然，这并不绝对，需要根据设计、载荷具体情况具体分析，但边缘更为重要的这一结论仍适合于大多数工况。 对应到具体操作上，也就是在绘制具体减重孔之前先将边缘根据载荷情况留出边条，分割出中间受力不大的“辅助承力区”进行减重的操作。 </p>
<h4 id="分割："><a href="#分割：" class="headerlink" title="分割："></a>分割：</h4><p>​        这一步是将零件的“辅助承力区”进行进一步的分割，并根据载荷与工况留出支撑结构后将剩余部分去除。具体如何分割很难有定式，但大体上遵循以下规则： </p>
<h5 id="a-最短距离原则"><a href="#a-最短距离原则" class="headerlink" title="a.最短距离原则"></a>a.最短距离原则</h5><p>​        减重设计的根本目的是“在去除尽量多材料的同时保留尽量高的刚度”，而我们知道任何结构只要长度过长，刚度必然下降，这对于支撑结构也一样，所以所谓“最短设计原则”即是指在已经确定支撑结构的起始位置后，在各个可能的支撑结构中选择最短的那个。例如下图，左侧的设计就优于右侧。  </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A1%88%E4%BE%8B%E4%B8%80.png" alt="QQ图片20230104193855"></p>
<h5 id="b-三角支撑原则"><a href="#b-三角支撑原则" class="headerlink" title="b.三角支撑原则"></a>b.三角支撑原则</h5><p>​        我们知道三角形是多边形里最稳定的结构，而在辅助承力区分割的这个操作我们也可以看作是将一个不规则多边形进行分割，且要求内部结构的稳定，这样看在孔位分布允许的条件下，尽可能的将区域分割为三角形无疑可以增强结构的稳定性，当然一味的增加三角形会导致减重效果不佳，这需要与“最短距离原则”与“宁简勿繁原则”综合考虑。 </p>
<h5 id="c-孔位优先原则"><a href="#c-孔位优先原则" class="headerlink" title="c.孔位优先原则"></a>c.孔位优先原则</h5><p>​        零件上的孔位需要优先确定，先定孔位，再开减重。这些孔位非常重要，需要依靠他们与其他零件进行连接，换句话说它们就是零件机械上的约束，在分割过程中无比需要保证承力的孔位的附近有足够好的强度，足以承受住载荷并传递过去。但很不幸，不是所有孔位的分布都适合开减重孔，所以也就在开完减重孔之后出现了“无家可归”或是位 置非常奇怪的孔位，这可不太好。</p>
<p>下列是一些对于不同奇怪孔位处理的案例：  </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A1%88%E4%BE%8B%E4%BA%8C.png" alt="QQ图片20230104194019"></p>
<h5 id="d-宁简勿繁原则"><a href="#d-宁简勿繁原则" class="headerlink" title="d.宁简勿繁原则"></a>d.宁简勿繁原则</h5><p>​       减重区域的支撑路线的选择并不唯一，这需要结合实际情况具体考虑，但在没有特殊需求的前提下，我认为在满足使用需求的前提下，减重孔的支撑结构应该尽量简单，正如奥卡姆剃刀理论所描述的那样，若无必要，勿增实体。对于减重形式的选择而言，也就是“在满足需求的前提下，最简单的模式才是应该选择的模式”。 </p>
<h4 id="切除："><a href="#切除：" class="headerlink" title="切除："></a>切除：</h4><p>​       在完成了减重形式的设计后，将计划去除的区域切除即可。这个步骤在建模软件有多种实现的方式，有的设计者喜欢直接在同一草图中进行完整的草图绘制，也有的设计者偏好先切出外支撑轮廓，然后再构建内部支撑。不同的建模方式没有好坏之分，只要能符合自身的使用喜欢，达到自身使用下的最高工作效率即可。 </p>
<h4 id="后处理"><a href="#后处理" class="headerlink" title="后处理"></a>后处理</h4><p>​        本部分的后处理指的是设计阶段的后处理，包括倒角、倒圆角以及增加挂耳（辅助布线）等，其中倒角半径的选择应与支撑梁的倾斜角度相关，详细关系将在 3.4.b 中详细说明。</p>
<h3 id="3-3-关于有限元仿真"><a href="#3-3-关于有限元仿真" class="headerlink" title="3.3.关于有限元仿真"></a>3.3.关于有限元仿真</h3><p>​        随着技术的发展，有限元仿真在设计中的占比越来越大，在项目中越发频繁的利用各种仿真手段来模拟真实载荷与工况，用以对设计进行反馈。但是，对于以 RoboMaster 为代表的各类竞技机器人比赛而言，仿真也有它的局限性，其中最大的局限便是与竞赛设计的低要求、与开发周期的矛盾以及相关约束条件的缺失。 实话实说，竞技机器人对于设计的要求是很低的，做不到极致的轻量化高强度？没关系， 那就加点冗余嘛；做不到高效的自动化控制？没关系，那就操作手多费点心嘛；做不到很高的可靠性？没关系，还可以靠队友补救嘛。低门槛、高上限的特点就造成了竞技机器人比赛 “技术主导”的特点，但要注意的是，技术也是分权重的。例如对 RoboMaster 比赛而言， 视觉自瞄的好坏就远比怎么画减重更为重要，也更直接的能影响一场比赛的胜负。 正是由于比赛“又不是不能用”的这一特点，对于大多数队伍来说，在紧张的研发周期中拿出可观的时间利用有限元技术去分析一个零件的减重，并不是一件很划得来的事，经常会出现“我们花费数个小时，成功的把这块板材从原减重方案的 100 克减重到了 90 克”的情况，对于大多数竞技机器人的需求而言，真的差这 10 克吗？更何况由于约束条件的不完整，绝大多数仿真的精度也算不上高，仅能提供一定的指导性反馈，这对于有经验的设计者意义十分有限。 但客观来说，仿真软件的意义依然是巨大的。不论是前期的方案论证、虚拟样机的低成本快速迭代还是拓扑分析对于减重方案的指导这都是有巨大意义的，只是他并不适合竞技机器人大批量低要求板材的减重设计。 </p>
<h3 id="3-4-一点心得"><a href="#3-4-一点心得" class="headerlink" title="3.4.一点心得"></a>3.4.一点心得</h3><h4 id="a-勿忘倒角"><a href="#a-勿忘倒角" class="headerlink" title="a.勿忘倒角"></a>a.勿忘倒角</h4><p>​        经过减重设计后的板材难免出现一些拐角，这时候倒角操作就很有必要。对于板材内部的折角，倒角不但可以缓解应力分布，防止应力集中，也可以优化工艺性；对于外轮廓的倒角则主要是为了机器人操作者的安全，毕竟谁都不希望开开心心上班来，满手伤痕回家去。 在设计上，每个倒角的形式于半径大小需要根据情况而定，但我个人偏好在内外轮廓的直角拐角处使用倒边，斜角拐角处使用倒角，这在保证性能的同时也具有美学特性，线条感可以使零件的力量感更强，更具有设计美学。比如下图，左图明显比有图更具有设计感与力量感，在外轮廓边角上倒边也能减去更多的重量。 </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A1%88%E4%BE%8B%E5%9B%9B.png" alt="QQ图片20230104194421"></p>
<h4 id="b-圆角半径大小与倾斜角度相统一"><a href="#b-圆角半径大小与倾斜角度相统一" class="headerlink" title="b.圆角半径大小与倾斜角度相统一"></a>b.圆角半径大小与倾斜角度相统一</h4><p>如果倒角的支撑结构不垂直（如下图），则需倒角的角 1 和角 2 就需要采用不同的圆角半径，一般认为夹角越小，所需的圆角半径也越小，夹角越大，所需的圆角半径也就越大。 当然，最小半径也需要根据机床的刀具尺寸结合具体情况综合确定。 </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A1%88%E4%BE%8B%E4%BA%94.png" alt="QQ图片20230104194425"></p>
<h2 id="四-对于立体零件的减重"><a href="#四-对于立体零件的减重" class="headerlink" title="四.对于立体零件的减重"></a>四.对于立体零件的减重</h2><h3 id="4-1-思维逻辑"><a href="#4-1-思维逻辑" class="headerlink" title="4.1.思维逻辑"></a>4.1.思维逻辑</h3><p>​        立体零件是竞技机器人中另一类经常使用的零件，例如各型铝方管、3D 打印件以及各型机加工件，此类零件多种多样，载荷情况也五花八门，受体量所限本篇也不可能详细阐述每一种零件的减重方式，故本部分仅会阐述相关的思维逻辑，对详细的操作不会过多提及。 客观上，立体零件除了铝方管外，其他种类的零件在竞技机器人中使用的比例并不高，且由于其结构的立体性与复杂性，对其设计减重的“减重比”也并不大，可谓是费力不讨好。 而且受限于经费，各参赛队伍所用的加工件也都“惜件如金”，其往往都作为关键零件来承受关键载荷，过分减重也不利于冗余性的考量，所以我个人不太建议在机加工零件上过分减重。当然，这仅限于由铝合金等轻金属材料制成的关键工件，至于材料是钢铁的零件减重还是十分必要的。 在思维上，可将立体的工件才分为多个“面”，也就将其“降维”，从三维的复杂零件转化成多个二维板面，再对面进行减重，此时的操作就与上文中对于二维板材的操作十分类似 了。但需要注意的是，3D 打印的材料由于特性原因，又与单纯的“开减重孔”不太一样，这部分可以详见 4.3 的内容。 </p>
<h3 id="4-2-对于机加工件"><a href="#4-2-对于机加工件" class="headerlink" title="4.2.对于机加工件"></a>4.2.对于机加工件</h3><p>​        机加工件的形态多种多样，很难一概而论，但究其根本都是将应力分布较低的区域去除， 通过去除材料的方式来降低总体质量。当然，去除材料的同时不要忘记考虑工艺性，良好的工艺性能在相当程度上降低成本。</p>
<p>样例如下： </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A0%B7%E4%BE%8B%E4%BA%94.png" alt="QQ图片20230104194745"></p>
<h3 id="4-3-对于-3D-打印件"><a href="#4-3-对于-3D-打印件" class="headerlink" title="4.3.对于 3D 打印件"></a>4.3.对于 3D 打印件</h3><p>​        打印件按工艺不同可以分为 FDM、SLA 和粉末烧结三大类，工艺的不同带来了它们不同的性能特点，而这对应到减重上又使它们有着不同的方式。 FDM 减重的花样比较多，可以有改变填充率、掏减重孔、填塞加强材料等多种方式来实现轻量化的目的。改变填充率顾名思义，就是通过改变填充的百分比来改变材料，就不再赘述了；掏减重孔也就如同字面意思，但需要注意的是，对于 FDM 的打印件来说，减重孔的切除方向尽量和打印的堆层方向垂直，否则打印件容易层间开裂；填塞加强材料的操作比较有 趣，是将圆柱销、碳棒、碳管等作为加强材料塞入打印件内，从而将其他部分的材料去除， 即用少量高强度材料替换大量低强度材料。填塞的方式也可以用于打印件的结构增强。 </p>
<p><img src="/../images/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/%E6%A1%88%E4%BE%8B%E4%B8%89.png" alt="QQ图片20230104194749"></p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">RickyLove</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://rickylove67.github.io/2023/01/04/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/">http://rickylove67.github.io/2023/01/04/%E5%87%8F%E9%87%8D%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">RickyLove</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/01/05/Robomaster%E8%BD%AE%E8%85%BF%E5%BC%8F%E5%B9%B3%E8%A1%A1%E6%AD%A5%E5%85%B5%E8%AE%BE%E8%AE%A1/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/3.jpg" class="responsive-img" alt="Robomaster轮腿式平衡步兵设计">
                        
                        <span class="card-title">Robomaster轮腿式平衡步兵设计</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2023-01-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            RickyLove
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/01/04/%E6%9C%BA%E6%A2%B0%E8%AE%BE%E8%AE%A1%E5%BF%83%E5%BE%97/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/5.jpg" class="responsive-img" alt="机械设计心得">
                        
                        <span class="card-title">机械设计心得</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2023-01-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            RickyLove
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>



<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2020-2023</span>
            
            <a href="/about" target="_blank">RickyLove</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            
            <br>
            
            
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link ">
    <a href="https://github.com/RickyLove67" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:839351467@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>


<!-- 

 -->


    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=839351467" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 839351467" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>


<!-- 




    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>
 -->
</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    
    
    

    <!-- 雪花特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/snow.js"><\/script>');
            }
        </script>
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

    <!--浏览器搞笑标题-->
    <script type="text/javascript" src="/js/FunnyTitle.js"></script>

</body>

</html>
